FROM rust:latest

ARG DATABASE_URL
ARG GOOGLE_CLIENT_ID
ARG GOOGLE_CLIENT_SECRET
ARG BASE_URL
ARG CLIENT_URL

WORKDIR /usr/src/myapp

COPY . .

RUN cargo clean && cargo install --path .

EXPOSE 3001

ENTRYPOINT ["backend"]
